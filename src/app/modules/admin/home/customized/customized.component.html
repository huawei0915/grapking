<div class="flex flex-col w-full  overflow-auto" style="max-height: calc(100vh - 80px);" *transloco="let t">
    <div class="w-full p-8">
        <div class="w-full p-8 bg-white text-xl " [formGroup]="form">
            <!-- 需求單位/客戶 -->
            <div class="flex w-full border-2">
                <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3">{{t('demand_form_customer')}}</div>
                <div style="width: calc(100% - 10rem);">
                    <input class="w-full h-full pl-4" type="text" formControlName="title">
                </div>
            </div>

            <!-- 產品名稱 -->
            <div class="flex w-full border-2 mt-3">
                <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3">{{t('demand_form_product_name')}}
                </div>
                <div style="width: calc(100% - 10rem);">
                    <input class="w-full h-full pl-4" type="text" formControlName="department">
                </div>
            </div>

            <div class="flex flex-col border-2 mt-3">
                <div class="flex border-b-2">
                    <!-- 劑型 -->
                    <div class="flex w-1/2">
                        <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3">{{t('demand_form_dosage')}}
                        </div>
                        <div style="width: calc(100% - 10rem);">
                            <input class="w-full h-full pl-4" type="text" formControlName="form">
                        </div>
                    </div>
                    <!-- 每日攝取量 -->
                    <div class="flex w-1/2">
                        <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3">{{t('demand_form_intake')}}
                        </div>
                        <div style="width: calc(100% - 10rem);">
                            <input class="w-full h-full pl-4" type="text" formControlName="daily_intake">
                        </div>
                    </div>
                </div>
                <!-- 預設包裝規格 -->
                <div class="flex border-b-2">
                    <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3">{{t('demand_form_package')}}</div>
                    <div style="width: calc(100% - 10rem);">
                        <input class="w-full h-full pl-4" type="text" formControlName="package">
                    </div>
                </div>
                <!-- 效期需求 -->
                <div class="flex border-b-2">
                    <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3">{{t('demand_form_validity')}}
                    </div>
                    <div style="width: calc(100% - 10rem);">
                        <input class="w-full h-full pl-4" type="text" formControlName="validity">
                    </div>
                </div>
                <!-- 需求價格 -->
                <div class="flex border-b-2">
                    <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3">
                        {{t('demand_form_raw_material_costs')}}</div>
                    <div style="width: calc(100% - 10rem);">
                        <input class="w-full h-full pl-4" type="text" formControlName="estimate_cost">
                    </div>
                </div>
                <div class="flex border-b-2">
                    <!-- 銷售國家 -->
                    <div class="flex w-1/2">
                        <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3">
                            {{t('demand_form_country_of_sale')}}</div>
                        <div style="width: calc(100% - 10rem);">
                            <input class="w-full h-full pl-4" type="text" formControlName="sale_country">
                        </div>
                    </div>
                    <!-- 銷售方式 -->
                    <div class="flex w-1/2">
                        <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3">
                            {{t('demand_form_method_of_sale')}}</div>
                        <div style="width: calc(100% - 10rem);">
                            <input class="w-full h-full pl-4" type="text" formControlName="sale_method">
                        </div>
                    </div>
                </div>
                <!-- 保健訴求 -->
                <div class="flex border-b-2">
                    <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3">{{t('demand_form_health_claims')}}
                    </div>
                    <div style="width: calc(100% - 10rem);">
                        <input class="w-full h-full pl-4" type="text" formControlName="health_demand">
                    </div>
                </div>
                <!-- 保健族群 -->
                <div class="flex border-b-2">
                    <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3">{{t('demand_form_health_group')}}
                    </div>
                    <div style="width: calc(100% - 10rem);">
                        <input class="w-full h-full pl-4" type="text" formControlName="health_group">
                    </div>
                </div>
                <!-- 指定功效原料&劑量 -->
                <div class="flex border-b-2">
                    <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3 h-32">
                        {{t('demand_form_specified_functional_ingredients_and_dosage')}}</div>
                    <div style="width: calc(100% - 10rem);">
                        <input class="w-full h-full pl-4" type="text" formControlName="effect">
                    </div>
                </div>
                <!-- 口感/風味 -->
                <div class="flex border-b-2">
                    <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3">
                        {{t('demand_form_taste_or_flavor')}}
                    </div>
                    <div style="width: calc(100% - 10rem);">
                        <input class="w-full h-full pl-4" type="text" formControlName="flavor">
                    </div>
                </div>
                <!-- 參考競品 -->
                <div class="flex border-b-2">
                    <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3">
                        {{t('demand_form_competing_products')}}</div>
                    <div style="width: calc(100% - 10rem);">
                        <input class="w-full h-full pl-4" type="text" formControlName="competitor">
                    </div>
                </div>
                <!-- 認證需求 -->
                <div class="flex border-b-2">
                    <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3">
                        {{t('demand_form_certification_requirements')}}</div>
                    <div style="width: calc(100% - 10rem);">
                        <input class="w-full h-full pl-4" type="text" formControlName="certification">
                    </div>
                </div>
                <!-- 需求項目與日期 -->
                <div class="flex border-b-2">
                    <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3 h-32">
                        {{t('demand_form_required_items_and_dates')}}
                    </div>
                    <div style="width: calc(100% - 10rem);">
                        <input class="w-full h-full pl-4" type="text" formControlName="requirement">
                    </div>
                </div>
                <!-- 其他 -->
                <div class="flex">
                    <div class="w-40 bg-neutral-300/30 text-neutral-600/70 py-3 pl-3 h-32">{{t('demand_form_other')}}
                    </div>
                    <div style="width: calc(100% - 10rem);">
                        <input class="w-full h-full pl-4" type="text" formControlName="note">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="flex w-full justify-center mb-10">
        <button class="border-rose-600 bg-white border-2  text-rose-600 w-36 px-8 py-3"
            (click)="handleCancel()">{{t('button_cancel')}}</button>
        <button class="bg-rose-600  text-white w-36 px-8 py-3 ml-4" (click)="handleSave()">{{t('button_save')}}</button>
    </div>
</div>

<app-shared-common-confirm-modal *ngIf="alertPOPUP" [title]="['product_notice'|transloco]" [fullCustomContent]="true"
    [submitText]="['button_confirm'|transloco]" (cancelEvent)="confrimCancel()" (submitEvent)="confrimOK()">
    <div customContent class="text-center h-full ">
        <span class="relative top-[40%] text-xl font-bold">
            {{message|transloco}}
        </span>
    </div>
</app-shared-common-confirm-modal>

<div class="toast" *ngIf="showToast">
    {{'add_success'|transloco}}
</div>
