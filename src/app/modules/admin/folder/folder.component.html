<ng-container *transloco="let t">
    <div class="min-h-max max-h-max w-full">
        <div class="fixed bg-white w-full h-16 flex justify-center items-center z-20">
            <!-- <button class=" rounded-lg text-sm font-semibold py-3 px-4 bg-white text-slate-900 ring-1 ring-slate-900/10"
                (click)="handleBtn('vr')">
                <span>VR
                    Tour</span>
            </button>
    
            <button
                class="ml-4 rounded-lg text-sm font-semibold py-3 px-4 bg-white text-slate-900 ring-1 ring-slate-900/10 "
                (click)="handleBtn('ai')">
                <span>AI-Stage</span>
            </button> -->

            <span class="text-lg sm:text-2xl font-semibold bg-white text-slate-900">{{t('tabbar_product')}}</span>


        </div>



        <ng-container *ngIf="!showDetailPage">
            <div class="mt-16 fixed w-full overflow-auto h-[calc(100%-120px)] sm:h-[calc(100%-128px)]">
                <div class="w-full h-16 flex justify-start items-center z-20 text-2xl">
                    <mat-form-field>
                        <mat-select class="text-base font-semibold bg-white text-slate-900" [value]="'A'">
                            <mat-option [value]="'A'">{{t('filter_client_all')}}</mat-option>
                            <mat-option [value]="'B'">{{t('filter_client_has_clientId')}}</mat-option>
                            <mat-option [value]="'C'">{{t('filter_client_no_clientId')}}</mat-option>
                            <!-- <mat-option *ngFor="let item of interestList; let index = index" [value]="item.id"
                                [disabled]="index === 1">{{ item.name }}</mat-option> -->
                        </mat-select>
                    </mat-form-field>
                </div>

                <div class="m-8 mt-0 bg-white w-[calc(100%-64px)]">
                    <div class="p-8">
                        <ng-container *ngFor="let product of productArr;let i=index">
                            <!-- ====test -->
                            <div class="relative m-2 mb-7">
                                <!-- <div class="bag">
                                    <div>{{i+1}}</div>
                                </div> -->
                                <div class="flex flex-wrap justify-center sm:justify-between">
                                    <div class="flex flex-row flex-wrap justify-center sm:justify-start 
                                    items-start w-full sm:w-[calc(100%-176px)]">
                                        <figure class="flex items-center min-w-36 w-36 h-36 mr-0 sm:mr-4 bg-slate-50">
                                            <img [src]="getImage(product.files[0])" alt="">
                                        </figure>
                                        <div class="flex flex-col justify-center w-full sm:w-[calc(100%-160px)]">
                                            <div class="font-bold text-2xl text-center sm:text-left">
                                                {{(lang==='en')?product.name_en:product.name_zh}}
                                            </div>
                                            <!-- <div class="text-slate-400">
                                                {{product.spec_zh}}
                                            </div> -->
                                        </div>
                                    </div>
                                    <div
                                        class="min-w-44 flex flex-col justify-between content-center sm:content-end flex-wrap">
                                        <!-- <div>2023-09-25 19:22:33</div> -->
                                        <div>{{product.updatedAt | date:'yyyy-MM-dd HH:mm:ss':'GMT+08:00'}}</div>
                                        <div class="flex flex-row justify-between">
                                            <mat-icon class="text-slate-400" svgIcon="feather:trash-2"
                                                (click)="openDeleteModal(product)"></mat-icon>
                                            <mat-icon class="text-slate-400"
                                                svgIcon="heroicons_outline:user"></mat-icon>
                                            <mat-icon class="text-slate-400" svgIcon="feather:edit"
                                                (click)="openEditModal(product)"></mat-icon>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- ====test^ -->
                        </ng-container>

                    </div>
                </div>
            </div>
        </ng-container>
        <ng-container *ngIf="showDetailPage">
            XXXXXXX

        </ng-container>


    </div>

    <!-- <ng-container *ngIf="vr">
        <iframe class="fixed w-full z-20" style="height: calc(100% - 80px);" [src]="vrUrl" frameborder="0"
            (load)="hideLoader()"></iframe>
    </ng-container>
    <ng-container *ngIf="ai">
        <iframe class="fixed w-full z-20" style="height: calc(100% - 80px);" [src]="aiUrl" frameborder="0"
            (load)="hideLoader()"></iframe>
    </ng-container> -->


    <app-shared-common-confirm-modal *ngIf="deleteCheck" [title]="'提醒'" [fullCustomContent]="true"
        [submitText]="t('button_delete')" (cancelEvent)="closeDeleteModal()" (submitEvent)="confrimDelete()">
        <div customContent class="text-center h-full ">
            <span class="relative top-[40%] text-xl font-bold">
                {{t('dialog_confirm_delete_message')}}
            </span>
        </div>
    </app-shared-common-confirm-modal>


    <app-shared-common-confirm-modal *ngIf="editCheck" #viewEditModal
        [productImage]="editData.files[0]" [productName]="((lang==='en')?editData.name_en:editData.name_zh)"
        [memo]="editData.note" (submitEvent)="confrimEdit(viewEditModal)"
        (cancelEvent)="closeEditModal()">
    </app-shared-common-confirm-modal>



    <!-- <app-shared-common-confirm-modal [confirmButtonOnly]="true"></app-shared-common-confirm-modal> -->



</ng-container>